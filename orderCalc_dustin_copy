import javax.swing.*;
import java.awt.*;
import java.awt.event.*;

/**
   The OrderCalculatorGUI class creates the GUI for the
   Brandi's Bagel House application.
*/

public class OrderCalculatorGUI extends JFrame
{
   private BagelPanel bagels;     // Bagel panel
   private ToppingPanel toppings; // Topping panel
   private CoffeePanel coffee;    // Coffee panel
   private GreetingPanel banner;  // To display a greeting
   private JTabbedPane mainPanel;
   private JPanel buttonPanel;    // To hold the buttons
   private JButton calcButton;    // To calculate the cost
   private JButton exitButton;    // To exit the application
   private JButton previousButton;
   private JButton nextButton;
   private JButton cButton;
   private JButton dButton;
   private JButton eButton;

   private final double TAX_RATE = 0.06; // Sales tax rate

   /**
      Constructor
   */

   public OrderCalculatorGUI()
   {
      // Display a title.
      setTitle("Order Calculator");

      // Specify an action for the close button.
      setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

      // Create a BorderLayout manager.
      setLayout(new BorderLayout());

      // Create the custom panels.
      banner = new GreetingPanel();
      bagels = new BagelPanel();
      toppings = new ToppingPanel();
      coffee = new CoffeePanel();

      // Create the button panel.
      buildButtonPanel();
      buildMainPanel();

      // Add the components to the content pane.
      add(banner, BorderLayout.NORTH);
      add(mainPanel, BorderLayout.CENTER);
      add(buttonPanel, BorderLayout.SOUTH);

      // Pack the contents of the window and display it.
      pack();
      setVisible(true);
   }

   /**
      The buildButtonPanel method builds the button panel.
   */

   private void buildMainPanel()
   {
	  mainPanel = new JTabbedPane(JTabbedPane.RIGHT);
	   
	  JComponent panel1 = bagels;
	  mainPanel.addTab("Tab 1", null, panel1);
	  
	  
	  JComponent panel2 = toppings;
	  mainPanel.addTab("Tab 2", null, panel2); 
	
	  
	  JComponent panel3 = coffee;
	  mainPanel.addTab("Tab 3", null, panel3);
	  
	  
	  
   }
   
   private void buildButtonPanel()
   {
      // Create a panel for the buttons.
      buttonPanel = new JPanel();

      // Create the buttons.      
      previousButton = new JButton("Previous");
      nextButton = new JButton("Next");
            
      calcButton = new JButton("Place Order");
      exitButton = new JButton("Cancel Order");

      // Register the action listeners.
      previousButton.addActionListener(new PreviousButtonListener());
      nextButton.addActionListener(new NextButtonListener());
     // cButton.addActionListener(new CButtonListener());
     // dButton.addActionListener(new DButtonListener());
     // eButton.addActionListener(new EButtonListener());
      
      calcButton.addActionListener(new CalcButtonListener());
      exitButton.addActionListener(new ExitButtonListener());

      // Add the buttons to the button panel.
      buttonPanel.add(previousButton);
      buttonPanel.add(nextButton);
      buttonPanel.add(calcButton);
      buttonPanel.add(exitButton);
      previousButton.setEnabled(false);
      calcButton.setEnabled(false);
   }

   /**
      Private inner class that handles the event when
      the user clicks the Calculate button.
   */

   private class CalcButtonListener implements ActionListener
   {
      public void actionPerformed(ActionEvent e)
      {
         // Variables to hold the subtotal, tax, and total
         double subtotal, tax, total;

         // Calculate the subtotal.
         subtotal = bagels.getBagelCost() + 
                    toppings.getToppingCost() +
                    coffee.getCoffeeCost();

         // Calculate the sales tax.
         tax = subtotal * TAX_RATE;

         // Calculate the total.
         total = subtotal + tax;

         // Display the charges.
         JOptionPane.showMessageDialog(null,
            String.format("Subtotal: $%,.2f\n" +
                          "Tax: $%,.2f\n" +
                          "Total: $%,.2f",
                          subtotal, tax, total));
      }
   }

   /**
      Private inner class that handles the event when
      the user clicks the Exit button.
   */

   private class ExitButtonListener implements ActionListener
   {
      public void actionPerformed(ActionEvent e)
      {
          System.exit(0);
      }
   }
   
   private class PreviousButtonListener implements ActionListener
   {
      public void actionPerformed(ActionEvent e)
      {
    	  if(mainPanel.getSelectedIndex() > 0)
    	  {
    		  mainPanel.setSelectedIndex( mainPanel.getSelectedIndex()-1);
    		  nextButton.setEnabled(true);
    	  }
    	  if(mainPanel.getSelectedIndex() <= 0)
    		  previousButton.setEnabled(false);
      }
   }
   private class NextButtonListener implements ActionListener
   {
      public void actionPerformed(ActionEvent e)
      {
    	  if(mainPanel.getSelectedIndex() < 2)
    	  {
    		  mainPanel.setSelectedIndex( mainPanel.getSelectedIndex()+1);
    		  previousButton.setEnabled(true);
    	  }
    	  if(mainPanel.getSelectedIndex() >= 2)
    		  nextButton.setEnabled(false);
      }
   }
   
   /**
      main method
   */
   
   public static void main(String[] args)
   {
      new OrderCalculatorGUI();
   }
}





